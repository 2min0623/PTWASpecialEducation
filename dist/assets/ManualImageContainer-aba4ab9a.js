import{G as c}from"./get_assets-cf714148.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import{o as d,c as m,a as g}from"./index-3019030b.js";const l={name:"ImageContainer",props:{ID:{type:String,required:!0},Data:{type:Object,required:!0}},data(){return{containerSize:{width:0,height:0},imageUrl:""}},methods:{updateContainerSize(){if(this.$refs.containerRef){const{width:e,height:t}=this.$refs.containerRef.getBoundingClientRect();this.containerSize={width:e,height:t}}},initImage(){const e=new Image;e.onload=()=>{const{width:t,height:i}=this.containerSize,{width:a,height:n}=e,{width:r,height:o}=this.getScaledDimensions(t,i,a,n);if(this.$refs.containerRef){const s=this.$refs.containerRef.querySelector("img");s&&(s.style.width=`${r}px`,s.style.height=`${o}px`)}},e.src=this.imageUrl},getScaledDimensions(e,t,i,a){const n=Math.min(e/i,t/a);return{width:Math.min(i*n,e),height:Math.min(a*n,t)}}},mounted(){this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.$nextTick(()=>{this.imageUrl=c(this.ID,this.Data.Src),this.initImage()})},beforeUnmount(){window.removeEventListener("resize",this.updateContainerSize)}},_={class:"Container",ref:"containerRef"},u=["src","alt"];function f(e,t,i,a,n,r){return d(),m("div",_,[g("img",{src:n.imageUrl,alt:i.Data.Alt},null,8,u)],512)}const z=h(l,[["render",f],["__scopeId","data-v-797cbba4"]]);export{z as default};
