import{x as a,r as h,o as s,c as r,b as c,w as p,F as g,k as u,s as d,n as v}from"./index-42a3f001.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";const k={name:"NumberLine",components:{"v-stage":a.Stage,"v-layer":a.Layer,"v-line":a.Line,"v-text":a.Text},props:{Data:{type:Object,required:!0}},data(){return{bais:20,NowX:0,Gap:void 0,AnnotateLineHeight:30,IncrementLineHeight:15,SvgHeight:150,SvgWidth:600,FontSize:17,BoxIndex:1,BoxAnswer:{},CorrectAnswer:{},configStage:{width:610,height:100},mainLineConfig:{points:[20,15,580,15],stroke:"black",strokeWidth:3},lineConfigs:[],textConfigs:[],inputConfigs:[],Offset:{x:0,y:0}}},created(){this.NowX=this.bais,this.CountGap(this.SvgWidth);for(let t=this.Data.Start;t<=this.Data.End;t+=this.Data.Increment)t in this.Data.Blank?this.inputConfigs.push({x:this.NowX,y:this.AnnotateLineHeight+this.FontSize}):t%this.Data.Annotate===0&&this.textConfigs.push({x:this.NowX-t.toString().length*this.FontSize/4,y:this.AnnotateLineHeight+this.FontSize,text:t.toString(),fontSize:this.FontSize,align:"center"}),t%this.Data.Annotate===0?this.lineConfigs.push({points:[this.NowX,0,this.NowX,this.AnnotateLineHeight],stroke:"black",strokeWidth:3}):this.lineConfigs.push({points:[this.NowX,this.AnnotateLineHeight/2-this.IncrementLineHeight/2,this.NowX,this.AnnotateLineHeight/2+this.IncrementLineHeight/2],stroke:"black",strokeWidth:3}),this.NowX+=this.Gap;let e=0;for(let t in this.Data.Blank)this.CorrectAnswer[e]=this.Data.Blank[t].TextAnswer,e++},methods:{CountGap(e){this.Gap=(e-this.bais*2)/(Math.abs(this.Data.End-this.Data.Start)/this.Data.Increment)},onInput(e){this.BoxAnswer[e]=document.getElementById(`Box${e}`).value,this.CheckAnswer()},CheckAnswer(){let e=!0;for(let t in this.CorrectAnswer)this.CorrectAnswer[t]!==parseInt(this.BoxAnswer[t])&&(console.log("Wrong"),e=!1);this.$emit("ReplyAnswer",e)}},mounted(){let e=this.$refs.stage.$el;e.style.border="solid 1px black";let t=e.getBoundingClientRect(),l=document.getElementsByClassName("OutterContainer")[0].getBoundingClientRect();this.Offset.x=t.x-l.x,this.Offset.y=t.y-2*l.y+this.FontSize,console.log(this.Offset)}},A={class:"OutterContainer"},B=["id","onInput"];function b(e,t,x,l,n,_){const f=h("v-line"),m=h("v-text"),C=h("v-layer"),w=h("v-stage");return s(),r("div",A,[c(w,{ref:"stage",config:n.configStage,id:"stage"},{default:p(()=>[c(C,null,{default:p(()=>[c(f,{config:n.mainLineConfig},null,8,["config"]),(s(!0),r(g,null,u(n.lineConfigs,(o,i)=>(s(),d(f,{key:i,config:o},null,8,["config"]))),128)),(s(!0),r(g,null,u(n.textConfigs,(o,i)=>(s(),d(m,{key:i,config:o},null,8,["config"]))),128))]),_:1})]),_:1},8,["config"]),(s(!0),r(g,null,u(n.inputConfigs,(o,i)=>(s(),r("input",{key:i,class:"InputBox",id:`Box${i}`,style:v({position:"absolute",left:`${o.x-22.5+n.Offset.x}px`,top:`${o.y+n.Offset.y}px`,width:"45px",height:"30px",border:"solid 2px black","border-radius":"5px","text-align":"center"}),onInput:S=>_.onInput(i)},null,44,B))),128))])}const N=y(k,[["render",b],["__scopeId","data-v-0ea2d0d1"]]);export{N as default};
