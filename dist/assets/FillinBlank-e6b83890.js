import{l as _,o as e,c as o,a as n,t as f,i as v,F as h,j as d,m as D,q as g,h as G,v as S,p as y,e as k,_ as V}from"./index-b5bc5a4d.js";import{G as C}from"./get_assets-e072c5da.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";const A={name:"FillinBlank",data(){return{InputId:0,ImgSrc:"",WithImage:!1,Value:[],focuslocation:null}},props:{GameData:{type:Object,required:!0},GameConfig:{type:Object,required:!0},id:{type:String,required:!0}},methods:{focusInput(t,l){this.focuslocation=[t,l]},VNInput(t){this.focusInput!=null&&(this.Value[this.focuslocation[0]][this.focuslocation[1]]+=t)},VNDelete(){this.focusInput!=null&&(this.Value[this.focuslocation[0]][this.focuslocation[1]]="")},VNPop(){this.focusInput!=null&&(this.Value[this.focuslocation[0]][this.focuslocation[1]]=this.Value[this.focuslocation[0]][this.focuslocation[1]].slice(0,-1),console.log(this.Value[this.focuslocation[0]][this.focuslocation[1]]))},CheckAnswer(){let t=0,l=!0,a="",r="";for(var s in this.GameData.Question)for(var i in this.GameData.Question[s])this.GameData.Question[s][i]=="$input"&&(this.Value[s][i]!=this.GameData.Answer[t]&&(l=!1,a+="第"+(s+1)+"格:"+this.Value[s][i]+`
`),r+="第"+(s+1)+"格:"+this.Value[s][i]+`
`,t++);l?(console.log("Correct"),this.$emit("play-effect","CorrectSound"),this.$emit("add-record",[r,a,"正確"]),this.$emit("next-question")):(console.log("Wrong"),this.$emit("play-effect","WrongSound"),this.$emit("add-record",[r,a,"錯誤"]))}},created(){for(var t in this.GameData.Question){let a=[];for(var l in this.GameData.Question[t])a.push("");this.Value.push(a)}},mounted(){this.GameConfig.WithImage&&(this.WithImage=!0,this.ImgSrc=C(this.id,this.GameData.Img),/undefined/.test(this.ImgSrc)&&(this.WithImage=!1))},components:{Numpad:_(()=>V(()=>import("./VirtualNumPadInput-865864f4.js"),["assets/VirtualNumPadInput-865864f4.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-b5bc5a4d.js","assets/index-797b4968.css","assets/VirtualNumPadInput-9b5e14c8.css"])),Calculator:_(()=>V(()=>import("./calculator-4c57f319.js"),["assets/calculator-4c57f319.js","assets/vuedraggable.umd-b79fa052.js","assets/index-b5bc5a4d.js","assets/index-797b4968.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/calculator-7fea39aa.css"])),Clock:_(()=>V(()=>import("./clock-c4d5b0f7.js"),["assets/clock-c4d5b0f7.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-b5bc5a4d.js","assets/index-797b4968.css","assets/clock-4a6a2fba.css"]))}},N=t=>(y("data-v-d0a393f9"),t=t(),k(),t),w={class:"Container"},b={class:"index"},F={class:"MainQuestion"},P={class:"SlotArea"},B=["src"],E={class:"QuestionArea card"},W={class:"SubQuestion"},R=N(()=>n("hr",null,null,-1)),T={class:"Question"},M=["onFocus","onUpdate:modelValue"],O={key:1,class:"gap"},L={key:2},q={class:"functionbar"},x={class:"Slot"};function U(t,l,a,r,s,i){return e(),o("div",w,[n("div",b,[n("p",F,f(this.GameData.Question_Text),1),n("div",P,[s.WithImage?(e(),o("img",{key:0,class:"SlotItem",src:s.ImgSrc},null,8,B)):v("",!0),this.GameConfig.SlotModuelSwitch?(e(!0),o(h,{key:1},d(a.GameData.SlotModuel,u=>(e(),D(g(u.Name),{class:"SlotItem",Data:u.Data},null,8,["Data"]))),256)):v("",!0)]),n("div",E,[n("p",W,f(this.GameData.SubQuestionTitle),1),R,(e(!0),o(h,null,d(a.GameData.Question,(u,c)=>(e(),o("div",{key:c,class:"QuestionRow"},[(e(!0),o(h,null,d(a.GameData.Question[c],(m,p)=>(e(),o("div",T,[m=="$input"?G((e(),o("input",{key:0,type:"text",class:"input form-control",onFocus:I=>i.focusInput(c,p),"onUpdate:modelValue":I=>s.Value[c][p]=I},null,40,M)),[[S,s.Value[c][p]]]):m=="$gap"?(e(),o("div",O)):(e(),o("p",L,f(m),1))]))),256))]))),128))]),n("div",q,[n("button",{class:"btn btn-primary",onClick:l[0]||(l[0]=(...u)=>i.CheckAnswer&&i.CheckAnswer(...u))},"確認答案")])]),n("div",x,[(e(!0),o(h,null,d(a.GameData.AssistiveComponent,u=>(e(),o("div",null,[(e(),D(g(u),{onVirtualpadinputInput:i.VNInput,onVirtualpadinputDelete:i.VNDelete,onVirtualpadinputPop:i.VNPop},null,40,["onVirtualpadinputInput","onVirtualpadinputDelete","onVirtualpadinputPop"]))]))),256))])])}const J=Q(A,[["render",U],["__scopeId","data-v-d0a393f9"]]);export{J as default};
