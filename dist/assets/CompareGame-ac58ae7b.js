import{c as w}from"./cardwithbutton-fb20d6ae.js";import{G as C}from"./get_assets-400025f8.js";import{d as b}from"./vuedraggable.umd-b541afdd.js";/* empty css                                                                    */import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{r as _,o as a,c as o,a as t,t as l,i as u,b as m,w as A,F as y,j as S,s as D,p as k,e as x}from"./index-84cea013.js";const T={name:"CompareGame",components:{draggable:b,cardwithbutton:w},emits:["play-effect","add-record","next-level"],props:{GameData:{type:Object,required:!0},GameConfig:{type:Object,required:!0},id:{type:String,required:!0}},data(){return{a:"",SelectedGroup:0,TotalQuestion:null,Answered:[],Answers:[],Ans1:[],Ans2:[],ImageDatas:[],Symbol:[],BSESymbol:[{tag:"Big",Text:">"},{tag:"Small",Text:"<"},{tag:"Equal",Text:"="}]}},methods:{Add(e){console.log("check drop"),this.SelectedGroup=e,console.log(this.SelectedGroup)},CheckDrop(e){console.log(e.newIndex);let i=this.Answers[this.SelectedGroup][e.newIndex];this.Answers[this.SelectedGroup]=[i],this.RealTimeCheckAnswer()},RealTimeCheckAnswer(){this.GameConfig.CheckAnswerMode=="OnFill"&&(this.GameData.Answer[this.SelectedGroup]==this.Answers[this.SelectedGroup][0].tag?(this.$emit("play-effect","CorrectSound"),this.Answered[this.SelectedGroup]=!0):(this.Answered[this.SelectedGroup]=!1,this.$emit("play-effect","WrongSound")),this.CheckAnsweredAll()&&console.log("All Answered"))},CheckAnsweredAll(){for(var e in this.Answered)if(this.Answered[e]==!1||this.Answered[e]==null)return!1;return!0},CheckAllAnswer(){for(var e in this.GameData.Answer)this.GameData.Answer[e]==this.Answers[e][0].tag?this.Answered[e]=!0:this.Answered[e]=!1},ClearAllData(){for(var e in this.Answered)this.Answers[e][0]=null,this.Answers[e][1]=null,this.Answered[e]=null,this.Answers[e]=[]}},created(){this.TotalQuestion=this.GameData.Datas.length;for(var e in this.GameData.Datas){this.Answered.push(null),this.Answers.push([]);let c=[];for(var i in this.GameData.Datas[e])try{let d=C(this.id,this.GameData.Datas[e][i].img);console.log(d),c.push(d)}catch{}this.ImageDatas.push(c)}if(this.GameConfig.CustomeSymbol==!1)switch(this.GameConfig.SymbolType){case"BSE":this.Symbol=this.BSESymbol;break;default:this.Symbol=this.BSESymbol;break}else this.Symbol=this.GameData.Symbol}},v=e=>(k("data-v-44631322"),e=e(),x(),e),I={class:"Head"},B={key:0,class:"h1 Title"},Q={key:1,class:"h2 SubTitle"},R=v(()=>t("hr",null,null,-1)),O={class:"OutterContainer"},W={class:"OptionBar"},E={class:"OptionBarTitle"},L={class:"QuestionArea"},q={class:"card CompareCard"},F={key:0},U=["src","alt"],j={class:"card-body"},N={class:"card-text text-center"},M={key:1,class:"CardWithoutImage"},V={class:"card-body"},z={class:"card-text text-center"},H={class:"card"},J={key:0},K=["src","alt"],P={class:"card-body"},X={class:"card-text text-center"},Y={key:1,class:"CardWithoutImage"},Z={class:"card-body"},$={class:"card-text text-center"};function ee(e,i,c,d,f,n){const p=_("cardwithbutton"),g=_("draggable");return a(),o("div",null,[t("div",I,[this.GameData.QuestionText&&this.GameData.QuestionText!=""?(a(),o("p",B,l(this.GameData.QuestionText),1)):u("",!0),this.GameData.Description&&this.GameData.Description!=""?(a(),o("p",Q,l(this.GameData.Description),1)):u("",!0)]),R,t("div",O,[t("section",W,[t("p",E,l(this.GameData.OptionBarTitle),1),m(g,{list:this.Symbol,sort:!1,"item-key":"name",group:{name:"Symbols",pull:"clone",put:!1},class:""},{item:A(({element:s})=>[m(p,{imageURL:s.img,Text:s.Text,altText:s.alt,class:"OptionBarItems clickable"},null,8,["imageURL","Text","altText"])]),_:1},8,["list"]),this.GameConfig.CheckAnswerMode=="Button"?(a(),o("button",{key:0,onClick:i[0]||(i[0]=(...s)=>n.CheckAllAnswer&&n.CheckAllAnswer(...s)),class:"btn btn-lg btn-primary"},"檢查答案")):u("",!0),t("button",{onClick:i[1]||(i[1]=(...s)=>n.ClearAllData&&n.ClearAllData(...s)),class:"btn btn-lg btn-danger"},"清空所有答案")]),t("div",L,[(a(!0),o(y,null,S(c.GameData.Datas,(s,r)=>(a(),o("div",{key:r,class:"QuestionContainer"},[t("section",{class:D(["QuestionRow",{"QuestionRow-Wrong":this.Answered[r]==!1,"QuestionRow-Right":this.Answered[r]==!0}])},[t("div",q,[this.GameConfig.WithImage!=!1&&this.GameConfig.WithImage!=null?(a(),o("div",F,[t("img",{src:this.ImageDatas[r][0],class:"card-img-top",alt:s[0].alt},null,8,U),t("div",j,[t("p",N,l(s[0].text),1)])])):(a(),o("div",M,[t("div",V,[t("p",z,l(s[0].text),1)])]))]),m(g,{list:f.Answers[r],group:"Symbols",sort:!1,"item-key":"name",class:"CompareSymbol",onChange:h=>n.Add(r),onAdd:n.CheckDrop},{item:A(({element:h})=>[m(p,{imageURL:h.img,Text:h.Text,altText:h.alt,class:"clickable"},null,8,["imageURL","Text","altText"])]),_:2},1032,["list","onChange","onAdd"]),t("div",H,[this.GameConfig.WithImage!=!1&&this.GameConfig.WithImage!=null?(a(),o("div",J,[t("img",{src:this.ImageDatas[r][0],class:"card-img-top",alt:s[0].alt},null,8,K),t("div",P,[t("p",X,l(s[0].text),1)])])):(a(),o("div",Y,[t("div",Z,[t("p",$,l(s[0].text),1)])]))])],2)]))),128))])])])}const le=G(T,[["render",ee],["__scopeId","data-v-44631322"]]);export{le as default};
