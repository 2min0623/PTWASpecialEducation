import{_ as m,a as p,b as h,c as v,d as b,e as u,f,g as P,h as S,i as j,j as w}from"./cover_story-396db36e.js";import{_ as G,a as O,b as y,c as x,d as I,e as k,f as q}from"./description-52f6e5ba.js";import{$ as r}from"./jquery-43fbda2a.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{o as c,c as g,a,t as d,F as R,h as F,n as N,p as B,e as T}from"./index-76d147a3.js";const A={name:"FindTheItem",data(){return{ObjPosition:[],ObjPositionRange:[],answered:[],btn:{},inputNumber:""}},props:{imgsrc:{type:String,required:!0},question:{type:Object,required:!0},answer:{type:Array,required:!0}},created(){for(var e=0;e<this.question.ObjNum;e++)this.answered.push(0);for(var e in this.question.ObjName)this.btn[e]=this.question.ObjName[e]},mounted(){var e=document.getElementById("cvs");const t=e.getContext("2d");var i=new Image;i.src=this.imageUrl=new URL(Object.assign({"../../assets/GamePic/Cat.png":m,"../../assets/GamePic/FindItemGameSample1.jpg":p,"../../assets/GamePic/NumberningGameSample.png":h,"../../assets/GamePic/Source/S_1.png":G,"../../assets/GamePic/Source/S_2.png":O,"../../assets/GamePic/Source/S_3.png":y,"../../assets/GamePic/Source/S_4.png":x,"../../assets/GamePic/Source/S_5.png":I,"../../assets/GamePic/Source/S_6.png":k,"../../assets/GamePic/Source/correct.mp3":v,"../../assets/GamePic/Source/description.png":q,"../../assets/GamePic/Source/description2.png":b,"../../assets/GamePic/Source/fire.png":u,"../../assets/GamePic/Source/harry.mp3":f,"../../assets/GamePic/Source/imcorrect.mp3":P,"../../assets/GamePic/cover_info.jpeg":S,"../../assets/GamePic/cover_info.png":j,"../../assets/GamePic/cover_story.png":w})[`../../assets/GamePic/${this.imgsrc}`],self.location).href,i.addEventListener("load",function(){t.drawImage(this,0,0,e.width,e.height)},!1);var s=r("#cvs").offset().left,o=r("#cvs").offset().top;console.log("page offset:",s,o),this.ObjPosition=this.question.ObjLocation,this.ObjPositionRange=this.answer},methods:{outCircle(e,t){var i=document.getElementById("cvs"),s=i.getContext("2d"),o=50,n=2,_="red";s.beginPath(),s.arc(e,t,o,0,2*Math.PI),s.lineWidth=n,s.strokeStyle=_,s.stroke()},judge_position(e){for(var t=r("#cvs").offset().left,i=r("#cvs").offset().top,s=0;s<11;s++)e.pageX>=this.ObjPositionRange[s][0][0]+t&&e.pageX<=this.ObjPositionRange[s][0][1]+t&&e.pageY>=this.ObjPositionRange[s][1][0]+i&&e.pageY<=this.ObjPositionRange[s][1][1]+i&&this.RightAns(s)},RightAns(e){this.ObjPosition[e][0],this.ObjPosition[e][1],this.outCircle(this.ObjPosition[e][0],this.ObjPosition[e][1]),r("#bt-"+e).css("background-color","gray"),this.detect_win(e)},detect_win(e){this.answered[e]=1;var t=0;for(e in this.answered)this.answered[e]==0&&(t+=1);t==0&&this.win()},win(){console.log("FindTheItemGame CheckAnswer :Wrong"),this.$emit("check-answer",!0)}}},E=e=>(B("data-v-64307a92"),e=e(),T(),e),L={class:"container"},X={class:"justify-content-center"},Y={class:"card mb-2"},W={class:"card-body"},$=E(()=>a("p",{class:"h4"},"尚未被找到的:",-1)),U={class:"d-flex flex-row flex-wrap"};function z(e,t,i,s,o,n){return c(),g("div",L,[a("div",X,[a("div",Y,[a("div",W,d(i.question.Text),1)]),a("canvas",{id:"cvs",class:"center",width:"800",height:"600",style:{border:"1px solid #000"},onClick:t[0]||(t[0]=_=>n.judge_position(_))}),$,a("div",U,[(c(!0),g(R,null,F(o.btn,(_,l)=>(c(),g("button",{class:N(["btn btn-primary m-1 flex-grow-1",{"active-button":o.answered[l]==0}])},d(_),3))),256))])])])}const K=C(A,[["render",z],["__scopeId","data-v-64307a92"]]);export{K as default};
